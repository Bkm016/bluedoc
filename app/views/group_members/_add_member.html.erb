<% if can? :manage, @group %>
  <%= render layout: "shared/modal", locals: {
    title: "Add member",
    button_text: icon_tag("user-plus", label: "Add"),
    button_class: "btn btn-primary"
  } do %>
    <div class="Box-body overflow-auto">
      <%= form_with(model: Member.new, url: group_members_path(@group), method: :post) do |form| %>
        <div class="form-group">
          <%= form.label :user, class: "control-label"  %>
          <%= render partial: "shared/autocomplete_users", locals: { input_name: "member[user_slug]" } %>
        </div>

        <div class="form-group">
          <%= form.label :role, class: "control-label" %>
          <%= form.select :role, Member.roles.keys, {}, class: "form-select" %>
        </div>

        <div class="form-group">
          <button class="btn btn-primary">Add member</button>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>